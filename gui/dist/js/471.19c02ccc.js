"use strict";(self["webpackChunkchengshe_homework"]=self["webpackChunkchengshe_homework"]||[]).push([[471],{3903:function(e,a,l){l.d(a,{J:function(){return s}});var t=l(810);const s=(0,t.nY)("config",{state:()=>({settings:{textModel:{apiUrl:"",apiKey:"",name:"",params:{temperature:1,maxTokens:2048,generateNum:3,generateTextNum:100}},imageModel:{apiUrl:"",apiKey:"",name:""}}}),actions:{loadSettings(){const e=localStorage.getItem("settings");e&&(this.settings=JSON.parse(e))},saveSettings(){localStorage.setItem("settings",JSON.stringify(this.settings))}}})},8471:function(e,a,l){l.r(a),l.d(a,{default:function(){return j}});var t=l(641);function s(e,a,l,s,n,i){const o=(0,t.g2)("TextPolishmentContainer");return(0,t.uX)(),(0,t.Wv)(o)}var n=l(3751),i=l(33),o=l(953),u=l(163),c=l(4335),v=l(3903);const d={class:"TextPolishmentContainer"},r={key:0,class:"loading-overlay"},k={key:1,class:"input-settings-container"},p={class:"source-section left-column"},m=["disabled"],L={class:"settings-section right-column"},h={class:"settings-grid vertical-layout"},g={class:"setting-item"},b=["disabled"],f={class:"setting-item"},x=["disabled"],y={class:"setting-item"},C=["disabled"],K={class:"setting-item"},w=["disabled"],R={key:2,class:"action-buttons"},T=["disabled"],U=["disabled"],_={key:3,class:"result-section"},S={class:"result-container"},E={class:"result-text"},M={key:4,class:"comparison-section"},W={class:"comparison-container"},J={class:"comparison-original"},N={class:"original-text"},X={class:"comparison-polished"},P={class:"polished-text"};var A={__name:"TextPolishment",setup(e){const a=(0,v.J)(),l=a.settings.textModel.apiUrl,s=a.settings.textModel.apiKey,A=a.settings.textModel.name,Q=a.settings.textModel.params.temperature,V=(0,o.KR)(""),I=(0,o.KR)(""),z=(0,o.KR)(!1),O=(0,o.KR)("medium"),j=(0,o.KR)("formal"),q=(0,o.KR)("zh-CN"),F=(0,o.KR)(""),Y=(0,o.KR)(!1),B=(0,o.KR)(!0),D=(0,o.KR)(!0),G=(0,o.KR)(!0),H=(0,t.EW)((()=>V.value.trim().length>0)),Z=async()=>{if(H.value)try{z.value=!0;const e=await c.A.post("http://localhost:5000/api/AIPolish",{config:{ModelName:A,apiKey:s,apiUrl:l,ModelTemperature:Q},content:V.value,polishStrength:O.value,writingStyle:j.value,additionalRequirements:F.value,language:q.value});if(console.log("提交结果:",e.data),I.value=e.data.polishedText.trim(),!e.data.polishedText.trim())throw new Error("服务器返回空内容");Y.value=!0,B.value=!1,D.value=!1,G.value=!1,u.nk.success("文章润色完成！")}catch(e){console.error("润色失败:",e),u.nk.error("润色过程中发生错误")}finally{z.value=!1}else u.nk.warning("请先输入需要润色的文章内容")},$=()=>{V.value="",I.value="",F.value="",Y.value=!1,B.value=!0,D.value=!0,G.value=!0},ee=()=>{I.value&&navigator.clipboard.writeText(I.value).then((()=>{u.nk.success("已复制到剪贴板")})).catch((e=>{console.error("复制失败:",e),u.nk.error("复制失败，请手动选择复制")}))},ae=()=>{I.value&&(V.value=I.value,I.value="",Y.value=!1,B.value=!0,D.value=!0,G.value=!0,u.nk.success("已接受修改"))},le=()=>{I.value&&(I.value="",Y.value=!1,B.value=!0,D.value=!0,G.value=!0,u.nk.success("已取消润色"))};return(e,a)=>((0,t.uX)(),(0,t.CE)("div",d,[z.value?((0,t.uX)(),(0,t.CE)("div",r,a[5]||(a[5]=[(0,t.Lk)("div",{class:"loader"},null,-1)]))):(0,t.Q3)("",!0),a[24]||(a[24]=(0,t.Lk)("div",{class:"header-section"},[(0,t.Lk)("h2",{class:"header-title"},"文章润色工具"),(0,t.Lk)("p",{class:"header-subtitle"},"优化您的写作，提升文章质量")],-1)),!I.value&&B.value&&D.value?((0,t.uX)(),(0,t.CE)("div",k,[(0,t.Lk)("div",p,[a[6]||(a[6]=(0,t.Lk)("h3",null,"原文输入",-1)),(0,t.bo)((0,t.Lk)("textarea",{"onUpdate:modelValue":a[0]||(a[0]=e=>V.value=e),placeholder:"在此粘贴需要润色的文章内容...",class:"source-input",disabled:z.value},null,8,m),[[n.Jo,V.value]])]),(0,t.Lk)("div",L,[a[14]||(a[14]=(0,t.Lk)("h3",null,"润色设置",-1)),(0,t.Lk)("div",h,[(0,t.Lk)("div",g,[a[8]||(a[8]=(0,t.Lk)("label",null,"润色强度",-1)),(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>O.value=e),disabled:z.value},a[7]||(a[7]=[(0,t.Lk)("option",{value:"light"},"轻度优化",-1),(0,t.Lk)("option",{value:"medium"},"中度改写",-1),(0,t.Lk)("option",{value:"aggressive"},"全面改写",-1)]),8,b),[[n.u1,O.value]])]),(0,t.Lk)("div",f,[a[10]||(a[10]=(0,t.Lk)("label",null,"目标风格",-1)),(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>j.value=e),disabled:z.value},a[9]||(a[9]=[(0,t.Lk)("option",{value:"formal"},"正式书面",-1),(0,t.Lk)("option",{value:"academic"},"学术论文",-1),(0,t.Lk)("option",{value:"creative"},"创意写作",-1),(0,t.Lk)("option",{value:"business"},"商务沟通",-1)]),8,x),[[n.u1,j.value]])]),(0,t.Lk)("div",y,[a[12]||(a[12]=(0,t.Lk)("label",null,"目标语言",-1)),(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>q.value=e),disabled:z.value},a[11]||(a[11]=[(0,t.Fv)('<option value="zh-CN" data-v-1697f1ab>简体中文</option><option value="zh-TW" data-v-1697f1ab>繁体中文</option><option value="en-US" data-v-1697f1ab>英文</option><option value="ja-JP" data-v-1697f1ab>日文</option><option value="wyw" data-v-1697f1ab>文言文</option>',5)]),8,C),[[n.u1,q.value]])]),(0,t.Lk)("div",K,[a[13]||(a[13]=(0,t.Lk)("label",null,"额外要求",-1)),(0,t.bo)((0,t.Lk)("textarea",{"onUpdate:modelValue":a[4]||(a[4]=e=>F.value=e),placeholder:"如：更简洁、更专业等，可输入多行要求",class:"additional-textarea",disabled:z.value,rows:"4"},null,8,w),[[n.Jo,F.value]])])])])])):(0,t.Q3)("",!0),G.value?((0,t.uX)(),(0,t.CE)("div",R,[(0,t.Lk)("button",{onClick:Z,class:"polish-btn",disabled:z.value||!V.value.trim()},[a[15]||(a[15]=(0,t.Lk)("i",{class:"icon-pen"},null,-1)),(0,t.eW)(" "+(0,i.v_)(z.value?"润色中...":"开始润色"),1)],8,T),(0,t.Lk)("button",{onClick:$,class:"reset-btn",disabled:z.value},a[16]||(a[16]=[(0,t.Lk)("i",{class:"icon-reset"},null,-1),(0,t.eW)(" 重置 ")]),8,U)])):(0,t.Q3)("",!0),I.value?((0,t.uX)(),(0,t.CE)("div",_,[a[20]||(a[20]=(0,t.Lk)("h3",null,"润色结果",-1)),(0,t.Lk)("div",S,[(0,t.Lk)("div",E,(0,i.v_)(I.value),1),(0,t.Lk)("div",{class:"result-actions"},[(0,t.Lk)("button",{onClick:le,class:"cancel-btn"},a[17]||(a[17]=[(0,t.Lk)("i",{class:"icon-cancel"},null,-1),(0,t.eW)(" 取消润色 ")])),(0,t.Lk)("button",{onClick:ee,class:"copy-btn"},a[18]||(a[18]=[(0,t.Lk)("i",{class:"icon-copy"},null,-1),(0,t.eW)(" 复制结果 ")])),(0,t.Lk)("button",{onClick:ae,class:"accept-btn"},a[19]||(a[19]=[(0,t.Lk)("i",{class:"icon-accept"},null,-1),(0,t.eW)(" 接受修改 ")]))])])])):(0,t.Q3)("",!0),Y.value?((0,t.uX)(),(0,t.CE)("div",M,[a[23]||(a[23]=(0,t.Lk)("h3",null,"修改对比",-1)),(0,t.Lk)("div",W,[(0,t.Lk)("div",J,[a[21]||(a[21]=(0,t.Lk)("h4",null,"原文",-1)),(0,t.Lk)("div",N,(0,i.v_)(V.value),1)]),(0,t.Lk)("div",X,[a[22]||(a[22]=(0,t.Lk)("h4",null,"润色后",-1)),(0,t.Lk)("div",P,(0,i.v_)(I.value),1)])])])):(0,t.Q3)("",!0)]))}},Q=l(6262);const V=(0,Q.A)(A,[["__scopeId","data-v-1697f1ab"]]);var I=V,z={name:"App",components:{TextPolishmentContainer:I}};const O=(0,Q.A)(z,[["render",s]]);var j=O}}]);
//# sourceMappingURL=471.19c02ccc.js.map