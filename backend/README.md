# 桌宠应用 (Desktop Pet)

一个基于PyQt6的桌面宠物应用，具有可爱的动画效果和交互功能。

## 功能特性

### 基本功能
- 🐾 **可爱的桌宠动画**: 支持idle、walk、jump三种动画状态
- 🎯 **随机移动**: 桌宠会在屏幕上随机移动
- 🖱️ **拖拽交互**: 可以用鼠标拖拽桌宠到任意位置
- 💬 **问候语气泡**: 定期显示随机问候语
- 🎛️ **系统托盘**: 支持最小化到系统托盘

### 设置功能
- 📏 **缩放比例**: 可调整桌宠大小 (0.5x - 5.0x)
- ⏱️ **移动间隔**: 可调整随机移动的时间间隔 (2-30秒)
- 🎨 **颜色自定义**: 可自定义气泡框的颜色
  - 背景颜色 (支持透明度)
  - 边框颜色
  - 文字颜色

## 安装依赖

```bash
pip install PyQt6
```

## 使用方法

1. 运行应用:
```bash
python main.py
```

2. 右键点击桌宠打开菜单:
   - **设置**: 打开设置对话框
   - **开启/关闭随机移动**: 控制桌宠的自动移动
   - **退出**: 关闭应用

3. 在设置对话框中:
   - 调整缩放比例和移动间隔
   - 点击颜色按钮选择自定义颜色
   - 颜色支持RGBA格式，可以设置透明度

## 文件结构

```
zhuochong/
├── main.py              # 主程序文件
├── test_colors.py       # 颜色功能测试脚本
├── README.md           # 说明文档
└── resources/
    ├── icon.png        # 应用图标
    └── yxx_images/     # 桌宠动画图片
        ├── idle/       # 待机动画
        ├── walk/       # 行走动画
        └── jump/       # 跳跃动画
```

## 颜色设置说明

### 颜色格式
应用支持以下颜色格式:
- **RGBA格式**: `rgba(255, 255, 255, 0.86)` (红, 绿, 蓝, 透明度)
- **RGBA格式**: `rgba(255 255 255 220)` (红 绿 蓝 透明度)
- **颜色名称**: `pink`, `red`, `blue` 等

### 颜色选择器
- 点击颜色按钮打开颜色选择对话框
- 可以调整RGB值和透明度
- 实时预览颜色效果
- 支持透明度设置，让气泡框更加美观

## 技术特点

- **平滑移动**: 使用浮点数坐标实现平滑的移动效果
- **动画系统**: 基于定时器的帧动画系统
- **响应式UI**: 根据缩放比例自动调整字体大小
- **颜色管理**: 完整的RGBA颜色支持

## 开发说明

### 主要类
- `DesktopPet`: 主桌宠类，处理动画、移动、交互
- `SettingsDialog`: 设置对话框，处理用户配置

### 关键方法
- `update_colors()`: 更新气泡框颜色
- `update_scale()`: 更新桌宠缩放比例
- `update_move_interval()`: 更新移动间隔
- `parse_rgba_color()`: 解析RGBA颜色字符串

## 测试

运行颜色功能测试:
```bash
python test_colors.py
```

## 许可证

本项目仅供学习和娱乐使用。 